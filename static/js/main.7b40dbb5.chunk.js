(this.webpackJsonptinder=this.webpackJsonptinder||[]).push([[0],{104:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(33),o=t.n(c),i=(t(72),t(73),t(21)),l=t(65),s=t(6),u=t(25),m=t.n(u),p=t(43),d=t.n(p);function h(e){return function(){return console.log(e)}}function f(e){var a=e.name,t=e.image,n=e.rightClick,c=e.leftClick,o=e.hide;return r.a.createElement("div",{className:m.a.container},r.a.createElement("div",{className:m.a.card},r.a.createElement("img",{alt:"rick",src:t}),r.a.createElement("p",{className:m.a.name},a),!o&&r.a.createElement("div",{className:m.a.actions},r.a.createElement("div",{onClick:c||h("left"),className:m.a.left},r.a.createElement(d.a,{name:"thumbs-down",size:"2x"})),r.a.createElement("div",{onClick:n||h("right"),className:m.a.right},r.a.createElement(d.a,{name:"heart",size:"2x"})))))}f.defaultProps={name:"Rick Sanches",image:"https://rickandmortyapi.com/api/character/avatar/1.jpeg"};var g=t(42),E=t.n(g),v=t(18),O=t(35),_=t(19),y=t(4),b=(t(78),t(26)),S=t.n(b);t(95),t(97);S.a.initializeApp({apiKey:"AIzaSyAoZ-1yoD6hTP3hR1WFAPSmEpjzWODZvtM",authDomain:"react-rym.firebaseapp.com",databaseURL:"https://react-rym.firebaseio.com",projectId:"react-rym",storageBucket:"react-rym.appspot.com",messagingSenderId:"604166040881",appId:"1:604166040881:web:20b0715d749d28de7d1410",measurementId:"G-MTHG9VY085"});var j=S.a.firestore().collection("favs");var C=t(22);function R(){var e=Object(O.a)(["\n    query ($page:Int) {\n        characters (page:$page){\n          info{\n            pages\n            next\n            prev\n          }\n          results{\n            name\n            image\n          }\n        }\n      }\n    "]);return R=function(){return e},e}var A={fetching:!1,array:[],current:{},favorites:[],nextPage:1},G=new C.a({uri:"https://rickandmortyapi.com/graphql"});var N=function(){return function(e,a){return e({type:"GET_FAVS"}),function(e){return j.doc(e).get().then((function(e){return e.data().array}))}(a().user.uid).then((function(a){e({type:"GET_FAVS_SUCCESS",payload:Object(_.a)(a)})})).catch((function(a){console.log(a),e({type:"GET_FAVS_ERROR",payload:a.message})}))}},T=function(){return function(e,a){var t=Object(C.b)(R());e({type:"GET_CHARACTERS"});var n=a().characters.nextPage;return G.query({query:t,variables:{page:n}}).then((function(a){var t=a.data,n=a.error;n?e({type:"GET_CHARACTERS_ERROR",payload:n}):(e({type:"GET_CHARACTERS_SUCCESS",payload:t.characters.results}),e({type:"UPDATE_PAGE",payload:t.characters.info.next?t.characters.info.next:1}))}))}};var I=Object(v.b)((function(e){return{chars:e.characters.array}}),{removeCharacterAction:function(){return function(e,a){var t=a().characters.array;t.shift(),t.length?e({type:"REMOVE_CHARACTER",payload:Object(_.a)(t)}):T()(e,a)}},addFavoritesAction:function(){return function(e,a){var t=a().characters,n=t.array,r=t.favorites,c=a().user.uid,o=n.shift();r.push(o),function(e,a){j.doc(a).set({array:e})}(r,c),e({type:"ADD_TO_FAVORITES",payload:{array:Object(_.a)(n),favorites:Object(_.a)(r)}})}}})((function(e){var a=e.chars,t=e.removeCharacterAction,n=e.addFavoritesAction;function c(){t()}function o(){n()}return r.a.createElement("div",{className:E.a.container},r.a.createElement("h2",null,"Personajes de Rick y Morty"),r.a.createElement("p",{className:"home-p"},"Toca la imagen del ",r.a.createElement("font",{color:"red"},"Lado Derecho")," para pasar al ",r.a.createElement("b",null,"Siguiente")),r.a.createElement("p",{className:"home-p"},"O del ",r.a.createElement("font",{color:"green"},"Lado Izquierdo")," para agregar al personaje a ",r.a.createElement("b",null,"Favoritos")),r.a.createElement("div",null,function(){var e=a[0];return r.a.createElement(f,Object.assign({rightClick:o,leftClick:c},e))}()))})),k=t(61),x=t.n(k);var w=Object(v.b)((function(e){return{characters:e.characters.favorites}}))((function(e){var a=e.characters,t=void 0===a?[0]:a;return r.a.createElement("div",{className:x.a.container},r.a.createElement("h2",null,"Favoritos"),t.map((function(e,a){return r.a.createElement(f,Object.assign({hide:!0},e,{key:a}))})),!t.length&&r.a.createElement("h3",null,"No hay personajes agregados"))})),L=t(62),F=t.n(L),P={loggedIn:!1,fetching:!1};var U=Object(v.b)((function(e){var a=e.user;return{fetching:a.fetching,loggedIn:a.loggedIn}}),{doGoogleLoginAction:function(){return function(e,a){return e({type:"LOGGIN"}),function(){var e=new S.a.auth.GoogleAuthProvider;return S.a.auth().signInWithPopup(e).then((function(e){return e.user}))}().then((function(t){var n;e({type:"LOGGIN_SUCCESS",payload:{uid:t.uid,dispalyName:t.displayName,email:t.email,photoUrl:t.photoURL}}),n=a(),localStorage.storage=JSON.stringify(n),N()(e,a)})).catch((function(a){console.log(a),e({type:"LOGGIN_ERROR",payload:a.message})}))}},logOutAction:function(){return function(e,a){S.a.auth().signOut(),e({type:"LOG_OUT"}),localStorage.removeItem("storage")}}})((function(e){var a=e.loggedIn,t=e.fetching,n=e.doGoogleLoginAction,c=e.logOutAction;return t?r.a.createElement("h2",null,"Cargando ..."):r.a.createElement("div",{className:F.a.container},a?r.a.createElement("h1",null,"Cierra tu sesi\xf3n"):r.a.createElement("div",null,r.a.createElement("h1",null,"Inicia Sesi\xf3n con Google"),r.a.createElement("p",null,"Debes iniciar sesi\xf3n para acceder al Inicio y a Favoritos")),a?r.a.createElement("button",{onClick:function(){c()}},"Cerrar Sesi\xf3n"):r.a.createElement("button",{onClick:function(){n()}},"Iniciar"))}));t(64),t(105);function D(e){var a=e.path,t=e.component,n=Object(l.a)(e,["path","component"]),c=localStorage.getItem("storage");return(c=JSON.parse(c))&&c.user?r.a.createElement(s.b,Object.assign({path:a,component:t},n)):r.a.createElement(s.a,Object.assign({exact:!0,to:"/"},n))}function V(){return r.a.createElement(s.d,null,r.a.createElement(D,{path:"/inicio",component:I}),r.a.createElement(D,{path:"/favs",component:w}),r.a.createElement(s.b,{exact:!0,path:"/",component:U}))}var H=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"nav-bar"},r.a.createElement(i.b,{className:"link",activeClassName:"active",to:"/inicio"},"Inicio"),r.a.createElement(i.b,{className:"link",activeClassName:"active",to:"/favs"},"Favoritos"),r.a.createElement(i.b,{className:"link",activeClassName:"active",exact:!0,to:"/"},"Login")),r.a.createElement(V,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(102);var M=t(23),q=t(63),z=Object(M.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOG_OUT":return Object(y.a)({},P);case"LOGGIN":return Object(y.a)(Object(y.a)({},e),{},{fetching:!0});case"LOGGIN_SUCCESS":return Object(y.a)(Object(y.a)(Object(y.a)({},e),{},{fetching:!1},a.payload),{},{loggedIn:!0});case"LOGGIN_ERROR":return Object(y.a)(Object(y.a)({},e),{},{fetching:!1,error:a.payload});default:return e}},characters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"UPDATE_PAGE":return Object(y.a)(Object(y.a)({},e),{},{nextPage:a.payload});case"GET_FAVS_SUCCESS":return Object(y.a)(Object(y.a)({},e),{},{fetching:!1,favorites:a.payload});case"GET_FAVS_ERROR":return Object(y.a)(Object(y.a)({},e),{},{fetching:!1,error:a.payload});case"GET_FAVS":return Object(y.a)(Object(y.a)({},e),{},{fetching:!0});case"ADD_TO_FAVORITES":return Object(y.a)(Object(y.a)({},e),a.payload);case"REMOVE_CHARACTER":return Object(y.a)(Object(y.a)({},e),{},{array:a.payload});case"GET_CHARACTERS":return Object(y.a)(Object(y.a)({},e),{},{fetching:!0});case"GET_CHARACTERS_ERROR":return Object(y.a)(Object(y.a)({},e),{},{fetching:!1,error:a.payload});case"GET_CHARACTERS_SUCCESS":return Object(y.a)(Object(y.a)({},e),{},{array:a.payload,fetching:!1});default:return e}}}),J=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||M.d;var W=t(11),B=function(){var e=Object(M.e)(z,J(Object(M.a)(q.a)));return T()(e.dispatch,e.getState),function(e){var a=localStorage.getItem("storage");(a=JSON.parse(a))&&a.user&&e({type:"LOGGIN_SUCCESS",payload:a.user})}(e.dispatch),e}(),X=new C.a({uri:"https://rickandmortyapi.com/graphql"}),$=function(){return r.a.createElement(i.a,null,r.a.createElement(H,null))},Q=function(){return r.a.createElement(v.a,{store:B}," ",r.a.createElement($,null)," ")},Z=function(){return r.a.createElement(W.a,{client:X}," ",r.a.createElement(Q,null)," ")};o.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},25:function(e,a,t){e.exports={container:"card_container__3eit5",card:"card_card__2vPM5",name:"card_name__2tua_",actions:"card_actions__2a7mp",left:"card_left__QcBQJ",right:"card_right__2PXrV"}},42:function(e,a,t){e.exports={container:"home_container__2UxNR"}},61:function(e,a,t){e.exports={container:"favs_container__maych"}},62:function(e,a,t){e.exports={container:"login_container__Fx8Hv"}},67:function(e,a,t){e.exports=t(104)},72:function(e,a,t){},73:function(e,a,t){}},[[67,1,2]]]);
//# sourceMappingURL=main.7b40dbb5.chunk.js.map